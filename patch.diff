Index: speed-to-fritz/ftp178
===================================================================
--- speed-to-fritz/ftp178	(revision 0)
+++ speed-to-fritz/ftp178	(revision 0)
@@ -0,0 +1,19 @@
+#!/bin/bash
+. incl_var
+if [ "$FIRST_RUN" = "y" ]; then
+ echo "You must run the main Skript first to set the parameters needed!" 
+    sleep 8 
+    exit 0 
+fi
+echo "" 
+echo "" 
+echo "" 
+echo "" 
+
+. $inc_DIR/includefunctions
+pushconfig "${NEWDIR}" "${OEM}" "${CONFIG_PRODUKT}" "${HWRevision}" "${ETH_IF}" "192.168.178.1" "${CONFIG_jffs2_size}" "annex=${ANNEX}" "${ANNEX}"
+
+echo "All done .... Press 'ENTER' to finish"
+while !(read -s); do 
+ sleep 1 
+done

Property changes on: speed-to-fritz/ftp178
___________________________________________________________________
Name: svn:executable
   + *

Index: speed-to-fritz/alien/subscripts/patch_leddef_W503.sh
===================================================================
--- speed-to-fritz/alien/subscripts/patch_leddef_W503.sh	(revision 0)
+++ speed-to-fritz/alien/subscripts/patch_leddef_W503.sh	(revision 0)
@@ -0,0 +1,112 @@
+#!/bin/bash
+ . ${include_modpatch}
+SR1="$1" 
+
+
+# change DECT text for infoled 
+if [ "$avm_Lang" != "en" ] ; then
+ for OEMDIR in ${OEMLIST}; do
+  if [ "$OEMDIR" = "avme" ] ; then
+   export HTML="$OEMDIR/$avm_Lang/html"
+  else
+   export HTML="$OEMDIR/html"
+  fi
+    if [ -e "$SR1"/usr/www/${HTML}/${avm_Lang}/system/infoled.inc ]; then
+     echo2 "-- Change TextBlinkDECT in: /usr/www/${HTML}/${avm_Lang}/system/infoled.inc"
+     [ "$OEMDIR" = "avm" ] && [ "$avm_Lang" = "de" ] && sed -i -e "s/^.*TextBlinkDECT.*$/<? setvariable var:TextBlinkDECT 'Die INFO-LED leuchtet immer wenn DECT aktiviert ist.' ?>/" "$SR1"/usr/www/${HTML}/${avm_Lang}/system/infoled.inc
+     [ "$OEMDIR" = "avme" ] && [ "$avm_Lang" = "en" ] && sed -i -e "s/^.*TextBlinkDECT.*$/<? setvariable var:TextBlinkDECT 'DECT activated' ?>/" "$SR1"/usr/www/${HTML}/${avm_Lang}/system/infoled.inc
+    fi
+ done
+fi
+
+
+
+# Map ISDN LED to ab LED (config of original FRITZ!Box and replace it by Speedport's LED config)  
+
+if ! `cat "${SR1}"/etc/init.d/rc.S | grep -q 'MAP isdn,0 TO ab,1'` ; then
+sed -i -e 's|ln -s /dev/new_led /var/led|ln -s /dev/new_led /var/led\
+case $OEM in\
+ tcom\|avm)\
+ echo "STATES isdn,0 = 0 -> 2, 1 -> 4" >/dev/new_led\
+ echo "MAP isdn,0 TO ab,1" >/dev/new_led\
+ echo "STATES ab,1 = 1 -> 18, 0 -> 2, 4 -> 1" >/dev/new_led\
+ ;;\
+ avme)\
+ ;;\
+esac\
+if /bin/testvalue /var/flash/dect_misc 1 0 0; then\
+echo "SET dect,0 = 0" >/dev/new_led\
+else\
+echo "SET dect,0 = 15" >/dev/new_led\
+fi|' "${SR1}/etc/init.d/rc.S"
+fi
+
+# W503
+cat <<EOF > "${SR1}/etc/led.conf"
+
+DEF error,0 = 1,402784896,0,all
+DEF error,1 = 3,0,0,all
+DOUBLE error,0 TO error,1
+DEF power,0 = 0,32,0,power
+DEF power,1 = 0,32,0,power
+DEF info,0 = 4,21,1,info
+DEF info,1 = 4,21,1,info
+DEF info,2 = 4,21,1,info
+DEF info,3 = 4,21,1,info
+DEF info,4 = 4,21,1,info
+DEF internet,0 = 0,17,2,internet
+DEF internet,1 = 0,17,2,internet
+DEF wlan,0 = 0,28,3,wlan
+DEF voip_con,0 = 0,9,4,voip_con
+DEF voip_con,1 = 0,9,4,voip_con
+DEF ab,1 = 0,27,5,festnetz
+DEF ab,2 = 0,27,5,festnetz
+DEF ab,3 = 0,27,5,festnetz
+DEF update,0 = 99,32,6,update
+DEF rot_eins,0 = 99,32,7,rot1
+DEF rot_zwei,0 = 99,32,7,rot2
+DEF rot_drei,0 = 99,32,7,rot3
+DEF rot_vier,0 = 99,32,7,rot4
+DEF rot_fuenf,0 = 99,32,7,rot5
+DEF pppoe,0 = 99,32,8,dsl
+DEF pppoe,1 = 99,32,8,dsl
+DEF adsl,0 = 99,32,9,adsl
+DEF adsl,1 = 99,32,9,adsl
+DEF ata,0 = 99,32,10,ata
+DEF tr69,0 = 99,32,11,tr69
+DEF tr69,1 = 99,32,11,tr69
+DEF tr69,2 = 99,32,11,tr69
+DEF tr69,3 = 99,32,11,tr69
+DEF tr69,4 = 99,32,11,tr69
+DEF tam,0 = 99,32,12,tam
+DEF tam,1 = 99,32,12,tam
+DEF usb,0 = 99,32,13,usb
+DEF usb,1 = 99,32,13,usb
+DEF cpmac,0 = 99,32,14,lan_all
+DEF cpmac,1 = 99,32,14,lan_all
+DEF cpmac,2 = 99,32,14,lan_all
+DEF cpmac,3 = 99,32,14,lan_all
+DEF cpmac,4 = 99,32,14,lan_all
+DEF blockring,0 = 99,32,15,blockring
+DEF missedcall,0 = 99,32,16,missedcall
+DEF budget,0 = 99,32,17,budget
+DEF isdn,0 = 99,32,19,isdn
+DEF isdn,1 = 99,32,19,isdn
+DEF isdn,2 = 99,32,19,isdn
+DEF stick_surf,0 = 99,32,20,stick_surf
+DEF stick_surf,1 = 99,32,20,stick_surf
+DEF stick_surf,2 = 99,32,20,stick_surf
+DEF stick_surf,3 = 99,32,20,stick_surf
+DEF null,0 = 99,32,21,null_device
+DEF dect,0 = 99,32,23,dect
+DEF null,0 = 99,32,24,null_device
+MAP ab,2 TO null,0
+MAP adsl,0 TO power,0
+MAP budget,0 TO info,1
+MAP ata,0 TO power,1
+MAP stick_surf,0 TO info,4
+SET power,0 = 1
+EOF
+
+exit 0
+

Property changes on: speed-to-fritz/alien/subscripts/patch_leddef_W503.sh
___________________________________________________________________
Name: svn:executable
   + *

Index: speed-to-fritz/sp-to-fritz.sh
===================================================================
--- speed-to-fritz/sp-to-fritz.sh	(revision 40)
+++ speed-to-fritz/sp-to-fritz.sh	(working copy)
@@ -3,7 +3,7 @@
 #dont change names of variables because some of the names are used in other files as well!
 ##########################################################################
 # Date of current version:                                          
-Tag="27"; Monat="01"; Jahr="09"
+Tag="28"; Monat="01"; Jahr="09"
 export SKRIPT_DATE="$Tag.$Monat.$Jahr"
 export SKRIPT_DATE_ISO="$Jahr.$Monat.$Tag"
 export SKRIPT_REVISION="$Jahr$Monat$Tag"
